{% extends 'empleados/base.html' %}
{% block content %}
<div class="page-body"><div class="container-fluid"><div class="page-title"><h4>Matrícula</h4></div></div>
<div class="container-fluid"><div class="card"><div class="card-header card-no-border pb-0"><h5>Filtros de matrícula</h5></div><div class="card-body"><form method="get" class="row g-3"><div class="col-md-3"><label class="form-label">Establecimiento</label><select class="form-control" name="establecimiento"><option value="">Todos</option>{% for e in establecimientos %}<option value="{{ e.id }}" {% if request.GET.establecimiento == e.id|stringformat:'s' %}selected{% endif %}>{{ e.nombre }}</option>{% endfor %}</select></div><div class="col-md-3"><label class="form-label">Carrera</label><select class="form-control" name="carrera"><option value="">Todas</option>{% for c in carreras %}<option value="{{ c.id }}" {% if request.GET.carrera == c.id|stringformat:'s' %}selected{% endif %}>{{ c.nombre }}</option>{% endfor %}</select></div><div class="col-md-2"><label class="form-label">Grado</label><select class="form-control" name="grado"><option value="">Todos</option>{% for g in grados %}<option value="{{ g.id }}" {% if request.GET.grado == g.id|stringformat:'s' %}selected{% endif %}>{{ g.nombre }}</option>{% endfor %}</select></div><div class="col-md-2"><label class="form-label">Ciclo</label><input class="form-control" name="ciclo" value="{{ request.GET.ciclo }}"></div><div class="col-md-2"><label class="form-label">Estado</label><select class="form-control" name="estado"><option value="">Todos</option><option value="activo" {% if request.GET.estado == 'activo' %}selected{% endif %}>Activo</option><option value="inactivo" {% if request.GET.estado == 'inactivo' %}selected{% endif %}>Inactivo</option></select></div><div class="col-12 text-end"><button class="btn btn-secondary">Filtrar</button></div></form></div></div>
<div class="card"><div class="card-header card-no-border pb-0"><h5>Nueva matrícula</h5></div><div class="card-body"><form method="post">{% csrf_token %}<div class="row g-3"><div class="col-md-3"><label class="form-label">Alumno</label>{{ form.alumno }}</div><div class="col-md-3"><label class="form-label">Grado</label>{{ form.grado }}</div><div class="col-md-3"><label class="form-label">Ciclo</label>{{ form.ciclo }}</div><div class="col-md-3"><label class="form-label">Estado</label>{{ form.estado }}</div></div><div class="text-end mt-3"><button class="btn btn-primary">Guardar Matrícula</button></div></form></div></div>
<div class="card"><div class="card-header card-no-border pb-0"><h5>Listado</h5></div><div class="card-body"><div class="table-responsive"><table class="table table-striped"><thead><tr><th>Alumno</th><th>Grado</th><th>Ciclo</th><th>Estado</th></tr></thead><tbody>{% for m in matriculas %}<tr><td>{{ m.alumno }}</td><td>{{ m.grado }}</td><td>{{ m.ciclo }}</td><td>{% if m.estado == 'activo' %}<span class="badge badge-light-success">Activo</span>{% else %}<span class="badge badge-light-danger">Inactivo</span>{% endif %}</td></tr>{% empty %}<tr><td colspan="4">Sin registros</td></tr>{% endfor %}</tbody></table></div></div></div>
</div></div>
{% endblock %}
